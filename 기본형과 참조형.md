#### 기본형과 참조형

변수의 데이터 타입을 가장 크게 보면 기본형과 참조형으로 분류할 수 있다. 사용하는 값을 변수에 직접 넣을 수 있는 기본형, 객체가 저장된 메모리의 위치를 가르키는 참조값을 넣을 수 있는 참조형으로 분류할 수 있다.

- 기본형 : int, long, double, boolean 등

- 참조형 : Student student1, int[] students 등

기본형 변수에는 직접 사용할 수 있는 값이 들어잇지만 참조형 변수에는 위치가 들어가 있다. 참조형 변수를 통해서 뭔가 하려면 결국 참조값을 통해 해당 위치로 이동해야 한다



##### 기본형 vs 참조형

- 기본형은 해당 값을 바로 사용가능

- 참조형은 객체와 배열이 있음.. 객체는 .으로 찾아가야 사용가능, 배열은 []을 통해 메모리상에 생성된 배열 찾아가야 사용

- 기본형은 연산이 가능하지만 참조형은 연산이 불가능하다

- 물론 .을 통해 기본형 멤버 변수에 접근한 경우에는 연산 가능

- 기본형을 제외한 나머지는 모두 참조형이다

- 기본형은 소문자로 시작한다



###### 참고 : String

자바에서 String은 특별하다. String은 사실은 클래스다. 따라서 참조형이다. 그런데 기본형처럼 문자값을 바로 대입할 수 있다. 문자는 매우 자주 다루기 때문에 특별하게 편의 기능을 제공한다.



##### 기본형 vs 참조형2 -  변수 대입

**대원칙 : 자바는 항상 변수의 값을 복사해서 대입한다.**

자바에서 변수에 값을 대입하는 것은 변수에 들어 있는 값을 복사해서 대입하는 것이다. 기본형, 참조형 모두 항상 변수에 있는 값을 복사해서 대입하낟. 기본형이면 변수에 들어 있는 실제 사용하는 값을 복사해서 대입하고, 참조형이면 변수에 들어 있는 참조값을 복사해서 대입한다.



##### 기본형 vs 참조형3 - 메서드 호출

메서드 호출할 때 매개변수에 값을 전달하는 것도 앞서 설명한 내용과 같이 값을 ㅂ고사해서 전달한다.



##### 변수와 초기화

변수의 종류

- 멤버 변수(필드) :  클래스에 선언

- 지역 변수 : 메서드에 선언, 매개변수도 지역 변수의 한 종류이다



변수의 값 초기화

- 멤버 변수 : 자동 초기화
  
  - 인스턴스의 멤버 변수는 인스턴스를 생성할 때 자동으로 초기화된다.
  
  - 숫자(int) = 0, boolean = false, 참조형 = null(null값은 참조할 대상이 없다는 뜻으로 사용된다)
  
  - 개발자가 초기값을 직접 지정할 수 있다

- 지역 변수
  
  - 지역 변수는 항상 직접 초기화해야 한다.



##### null

참조형 변수에는 항상 객체가 있는 위치를 가리키는 참조값이 들어간다. 참조형 변수에서 아직 가리키는 대상이 없다면  null이라는 특별한 값을 넣어둘 수 있다. null은 값이 존재하지 않는, 없다는 뜻이다



##### GC 가비지 컬렉션 - 아무도 참조하지 않는 인스턴스의 최후

data에 null을 할당했다. 따라서 앞서 생성한 인스턴스를 더는 아무도 참조하지 않는다. 이렇게 아무도 참조하지 않게 되면 참조값을 다시 구할 방법이 없다. 이렇게 아무도 참조하지 않는 인스턴스는 사용되지 않고 메모리 용량만 차지할 뿐이다

C와 같은 과거 프로그래밍 언어는 개발자가 직접 명령어를 사용해서 인스턴스를 메모리에서 제거해야 했다. 만약 인스턴스 삭제를 누락하면 메모리에 사용하지 않는 객체가 가득해져서 메모리 부족 오류가 발생하게 된다

자바는 이런 과정을 자동으로 처리해준다. 아무도 참조하지 않는 인스턴스가 있으면 JVM의 GC(가비지 컬렉션)가 더 이상 사용하지 않는 인스턴스라 판단하고 해당 인스턴스를 자동으로 메모리에서 제거해준다.

객체는 해당 객체를 참조하는 곳이 있으면, JVM이 종료할때까지 계속 생존한다. 글너데 중간에 해당 객체를 참조하는 곳이 모두 사라지면 그때 JVM은 필요 없는 객체로 판단해서 GC를 사용해서 제거한다.



##### NullPointerException

참조값 없이 객체를 찾아가면 어떻게 될까? NullPointerException은 이름 그대로 null을 가리키다인데, 이떄 발생하는 예외다. null은 없다는 뜻이므로 결국 주소가 없는 곳을 찾아갈 때 발생하는 예외이다.



객체를 참조할 때는 .을 사용한다. 이렇게 하면 참조값을 사용해서 해당 객체를 찾아갈 수 있다. 그런데 참조값이 null이라면 값이 없다는 뜻이므로, 찾아갈 수 있는 객체가 없다. NullPointerException은 이처럼 null에 .을 찍었을 때 발생한다.



##### 멤버 변수와 null

지역 변수의 경우에는 null 문제를 파악하는 것이 어렵지 않다. 멤버 변수가 null일 경우에는 주의가 필요하다.
